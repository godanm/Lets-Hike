(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(318)},143:function(e,t,a){},145:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),s=a.n(l),i=(a(143),a(23)),o=a(24),c=a(27),m=a(25),u=a(26),p=(a(145),a(321)),d=a(322),g=a(323),h=a(324),f=a(118),E=a.n(f).a.initializeApp({apiKey:"AIzaSyDCPHGe9yqjKe8pA-JZ7MInT6Sr_Gb0Gco",authDomain:"hike-1538513373444.firebaseapp.com",databaseURL:"https://hike-1538513373444.firebaseio.com",projectId:"hike-1538513373444",storageBucket:"hike-1538513373444.appspot.com",messagingSenderId:"118089687123"}).auth(),b=function(e,t){return E.createUserWithEmailAndPassword(e,t)},w=function(e,t){return E.signInWithEmailAndPassword(e,t)},v=function(){return E.signOut()},x=function(e){return E.sendPasswordResetEmail(e)},S=a(17),y=a(28),C=a.n(y),j=a(29),O=a.n(j),N=a(50),k=a.n(N),B=a(22),M=a.n(B),P=a(119),D=a.n(P),I=Object(S.withStyles)(function(e){return{body:{display:"flex",flexDirection:"column",minHeight:"100vh",background:"#ffffff"},bottom:{width:"100%",height:"10%",justifyContent:"center"},top:{width:"100%",height:"20%",valign:"top",justifyContent:"center",padding:"200px"},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center",paddingBottom:"5px",alignItems:"center"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"100%",maxWidth:100*e.spacing.unit},progress:{height:"10px",zIndex:5e3},textField:{marginTop:0},errorMsg:{color:"#FF5722"},loginButton:{width:"100%",height:"50px"},bottomButtons:{width:"75%",height:"3.5vh",color:"#6495ed",boxShadow:"0 0px 0px 0px"}}})(function(e){return r.a.createElement("div",{className:e.classes.body},e.loading&&r.a.createElement(D.a,{className:e.classes.progress}),r.a.createElement(k.a,{className:e.classes.bottom,container:!0,spacing:0},r.a.createElement(k.a,{className:e.classes.container,item:!0,xs:9},r.a.createElement("br",null),r.a.createElement("img",{src:"https://waterfallsofthegrandcanyon.com/wp-content/uploads/2016/01/beaver-falls.jpg",height:"400px"}),r.a.createElement("form",{className:e.classes.form,noValidate:!0,autoComplete:"off",onSubmit:e.submit},r.a.createElement(C.a,{id:"email",label:"Email",className:e.classes.textField,margin:"normal",fullWidth:!0,error:e.msg&&!0,value:e.email,onChange:e.updateEmail}),r.a.createElement(C.a,{id:"password",label:"Password",className:e.classes.textField,type:"password",autoComplete:"current-password",margin:"normal",fullWidth:!0,error:e.msg&&!0,value:e.password,onChange:e.updatePassword}),r.a.createElement(M.a,{className:e.classes.errorMsg,type:"caption"},e.msg),r.a.createElement(O.a,{className:e.classes.loginButton,type:"submit"},"Login"))),r.a.createElement(k.a,{className:e.classes.container,item:!0,xs:5},r.a.createElement(O.a,{onClick:e.signUpDialog,dense:!0,className:e.classes.bottomButtons},"Sign Up")),r.a.createElement(k.a,{className:e.classes.container,item:!0,xs:5},r.a.createElement(O.a,{onClick:e.forgotDialog,dense:!0,className:e.classes.bottomButtons},"Forgot"))))}),U=a(32),L=a.n(U),F=a(63),T=a.n(F),W=a(64),A=a.n(W),R=a(66),G=a.n(R),H=a(65),z=a.n(H),q=Object(S.withStyles)(function(e){return{flex:{flex:1,textAlign:"right",paddingBottom:0,marginBottom:"-18px"},container:{display:"flex",flexWrap:"wrap",justifyContent:"center"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",paddingRight:"18px",paddingLeft:"18px"},signUpBottom:{height:"60px",marginTop:"16px",width:"50%"},errorMsg:{color:"#FF5722",textAlign:"center",width:"100%"}}})(function(e){return r.a.createElement("div",null,r.a.createElement(T.a,{ignoreBackdropClick:!0,open:e.open,onRequestClose:e.close},r.a.createElement(A.a,{className:e.classes.flex},r.a.createElement(L.a,{color:"contrast",onClick:e.close,"aria-label":"Close"},r.a.createElement(z.a,null))),r.a.createElement(G.a,{className:e.classes.container},r.a.createElement("form",{className:e.classes.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},r.a.createElement(C.a,{id:"email",label:"Email",className:e.classes.textField,type:"email",margin:"normal",fullWidth:!0,error:e.msg&&!0,value:e.email,onChange:e.updateEmail}),r.a.createElement(C.a,{id:"password",label:"Password",className:e.classes.textField,type:"password",autoComplete:"current-password",margin:"normal",fullWidth:!0,error:e.msg&&!0,value:e.password,onChange:e.updatePassword}),r.a.createElement(M.a,{className:e.classes.errorMsg,type:"caption"},e.msg),r.a.createElement(O.a,{className:e.classes.signUpBottom,onClick:e.submit,type:"button"},"Register")))))}),V=Object(S.withStyles)(function(e){return{flex:{flex:1,textAlign:"right",paddingBottom:0,marginBottom:"-18px"},container:{display:"flex",flexWrap:"wrap",justifyContent:"center"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",paddingRight:"18px",paddingLeft:"18px"},signUpBottom:{height:"60px",marginTop:"16px",width:"50%"},errorMsg:{color:"#FF5722",textAlign:"center",width:"100%"}}})(function(e){return r.a.createElement("div",null,r.a.createElement(T.a,{ignoreBackdropClick:!0,open:e.open,onRequestClose:e.close},r.a.createElement(A.a,{className:e.classes.flex},r.a.createElement(L.a,{color:"contrast",onClick:e.close,"aria-label":"Close"},r.a.createElement(z.a,null))),r.a.createElement(G.a,{className:e.classes.container},r.a.createElement("form",{className:e.classes.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},r.a.createElement(C.a,{id:"email",label:"Email",className:e.classes.textField,margin:"normal",fullWidth:!0,error:"Password reset email sent."!==e.msg&&!0,value:e.email,onChange:e.updateEmail}),r.a.createElement(M.a,{className:e.classes.errorMsg,type:"caption"},e.msg),r.a.createElement(O.a,{disabled:"Password reset email sent."===e.msg,className:e.classes.signUpBottom,onClick:e.submit,type:"button"},"Send EMail")))))}),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleLogin=function(t){t.preventDefault(),e.setState({loading:!0}),e.setState({loginMsg:null}),w(e.state.email,e.state.password).catch(function(t){console.log(t.message),e.setState({loading:!1}),e.setState({loginMsg:t.message})})},e.handleSignUp=function(t){e.setState({loading:!0}),b(e.state.email,e.state.password).catch(function(t){console.log(t.message),e.setState({loading:!1}),e.setState({signUpMsg:t.message})})},e.handleForgot=function(t){e.setState({loading:!0}),x(e.state.email).then(function(){e.setState({forgotMsg:"Password reset email sent."}),e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1}),e.setState({forgotMsg:"Email address not found."})})},e.updateEmail=function(t){e.setState({email:t.target.value}),""===t.target.value&&e.setState({loginMsg:null})},e.updatePassword=function(t){e.setState({password:t.target.value}),""===t.target.value&&e.setState({loginMsg:null})},e.signUpDialog=function(){e.setState({open:{signUp:!0}})},e.forgotDialog=function(){e.setState({open:{forgot:!0}})},e.closeDialog=function(){e.setState({open:{signUp:!1}}),e.setState({open:{forgot:!1}}),e.setState({signUpMsg:null}),e.setState({forgotMsg:null}),e.setState({loginMsg:null})},v(),e.state={email:"",password:"",loading:!1,authed:!1,open:{signUp:!1,forgot:!1},forgotMsg:null,loginMsg:null,signUpMsg:null},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.removeListener=E.onAuthStateChanged(function(t){console.log("user",t),t?e.setState({authed:!0}):e.setState({authed:!1})})}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"render",value:function(){return console.log("this.state.authed",this.state.authed),this.state.authed?r.a.createElement(h.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement(I,{loading:this.state.loading,updateEmail:this.updateEmail,updatePassword:this.updatePassword,email:this.state.email,password:this.state.password,msg:this.state.loginMsg,submit:this.handleLogin,signUpDialog:this.signUpDialog,forgotDialog:this.forgotDialog}),r.a.createElement(q,{updateEmail:this.updateEmail,updatePassword:this.updatePassword,email:this.state.email,open:this.state.open.signUp,close:this.closeDialog,msg:this.state.signUpMsg,submit:this.handleSignUp}),r.a.createElement(V,{open:this.state.open.forgot,close:this.closeDialog,updateEmail:this.updateEmail,email:this.state.email,msg:this.state.forgotMsg,submit:this.handleForgot}))}}]),t}(n.Component),K=a(68),X=a(121),_=a(6),Z=a.n(_),Q=a(129),Y=a.n(Q),$=a(135),ee=a.n($),te=a(130),ae=a.n(te),ne=a(131),re=a.n(ne),le=a(62),se=a.n(le),ie=a(85),oe=a.n(ie),ce=a(133),me=a.n(ce),ue=a(132),pe=a.n(ue),de=a(136),ge=a.n(de),he=a(134),fe=a.n(he),Ee=a(42),be=a.n(Ee),we=a(43),ve=a.n(we),xe=a(44),Se=a.n(xe),ye=a(122),Ce=a.n(ye),je=a(123),Oe=a.n(je),Ne=a(124),ke=a.n(Ne),Be=a(125),Me=a.n(Be),Pe=a(126),De=a.n(Pe),Ie=r.a.createElement("div",null,r.a.createElement(be.a,{button:!0},r.a.createElement(ve.a,null,r.a.createElement(Ce.a,null)),r.a.createElement(Se.a,{primary:"Search Trails"})),r.a.createElement(be.a,{button:!0},r.a.createElement(ve.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(Se.a,{primary:"My Groups"})),r.a.createElement(be.a,{button:!0},r.a.createElement(ve.a,null,r.a.createElement(ke.a,null)),r.a.createElement(Se.a,{primary:"Upcoming Hikes"})),r.a.createElement(be.a,{button:!0},r.a.createElement(ve.a,null,r.a.createElement(Me.a,null)),r.a.createElement(Se.a,{primary:"Plan a Hike"})),r.a.createElement(be.a,{button:!0},r.a.createElement(ve.a,null,r.a.createElement(De.a,null)),r.a.createElement(Se.a,{primary:"Settings"}))),Ue=r.a.createElement("div",null),Le=a(48),Fe=a(69),Te=a.n(Fe),We=a(128),Ae=a.n(We),Re=a(15),Ge=a.n(Re),He=a(70),ze=a.n(He),qe=a(49),Ve=a.n(qe),Je=a(39),Ke=a.n(Je);function Xe(e){if(e.status>=200&&e.status<300)return e;var t=new Error("HTTP Error ".concat(e.statusText));throw t.status=e.statusText,t.response=e,console.log(t),t}function _e(e){return e.json()}var Ze={search:function(e,t,a){return console.log("lat",e),console.log("lon",t),fetch("http://localhost:3001/api/getTrails?lat=".concat(e,"&lon=").concat(t),{accept:"application/json"}).then(Xe).then(_e).then(a)}},Qe=a(127),Ye=a.n(Qe),$e=a(33),et=a.n($e),tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e}),a.state.latLng?a.setState({error:""}):a.setState({error:"Invalid format: ###-###-####"})},a.handleSelect=function(e){Object($e.geocodeByAddress)(e).then(function(e){return Object($e.getLatLng)(e[0])}).then(function(e){return a.setState({latLng:e})}).catch(function(e){return console.error("Error",e)}),a.setState({address:e}),a.setState({error:""})},a.state={address:""},a.state={error:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Te.a,{className:t.table},r.a.createElement(ze.a,null,r.a.createElement(Ve.a,null,r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,null),r.a.createElement(Ge.a,{numeric:!0},r.a.createElement(et.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},function(a){var n=a.getInputProps,l=a.suggestions,s=a.getSuggestionItemProps,i=a.loading;return r.a.createElement("div",null,r.a.createElement(C.a,Object.assign({ref:e.props.searchInput,onBlur:e.handleChange,error:0!==e.state.error.length,id:"outlinedname",label:"Search Trails...",className:t.textField,margin:"normal",variant:"outlined"},n({placeholder:"Search Trails ..."}))),r.a.createElement("div",null,i&&r.a.createElement("div",null,"Loading..."),l.map(function(e){var t=e.active?"suggestionitemactive":"suggestionitem",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",s(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))})),r.a.createElement(Ge.a,null,r.a.createElement(O.a,{variant:"fab",color:"primary","aria-label":"Add",className:t.button,onClick:this.props.handler},r.a.createElement(Ye.a,null))))))}}]),t}(r.a.Component),at=Object(S.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"400px"},dense:{marginTop:16},menu:{width:200}}})(tt),nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).searchInput=r.a.createRef(),a.state={trails:[],latLng:""},a.handler=a.handler.bind(Object(Le.a)(Object(Le.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handler",value:function(e){var t=this;if(this.searchInput.current.props.value){var a=this.searchInput.current.props.value;et()(a).then(function(e){return Object($e.getLatLng)(e[0])}).then(function(e){return Ze.search(e.lat,e.lng,function(e){t.setState(e)})}).catch(function(e){return console.error("Error",e)})}else this.state.error="Error"}},{key:"componentDidMount",value:function(){var e=this;Ze.search("33.7288935","-112.2840607",function(t){e.setState(t)})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ke.a,{className:e.root},r.a.createElement(at,{handler:this.handler.bind(this),ref:"search",searchInput:this.searchInput}),r.a.createElement(Te.a,{className:e.table},r.a.createElement(ze.a,{className:e.tablehead},r.a.createElement(Ve.a,null,r.a.createElement(Ge.a,null,"Select"),r.a.createElement(Ge.a,null,"Trail Name"),r.a.createElement(Ge.a,{numeric:!0},"Location"),r.a.createElement(Ge.a,{numeric:!0},"# of votes"),r.a.createElement(Ge.a,{numeric:!0},"Ratings"),r.a.createElement(Ge.a,{numeric:!0},"Preview"))),r.a.createElement(Ae.a,null,this.state.trails.map(function(e){return r.a.createElement(Ve.a,{key:e.id},r.a.createElement(Ge.a,{component:"th",scope:"row"},r.a.createElement("a",{href:e.url,target:"_blank"},e.name)),r.a.createElement(Ge.a,{numeric:!0},e.location),r.a.createElement(Ge.a,{numeric:!0},e.starVotes),r.a.createElement(Ge.a,{numeric:!0},e.stars),r.a.createElement(Ge.a,{numeric:!0},r.a.createElement("img",{className:"avatar",src:e.imgSqSmall,alt:e.name})))}))))}}]),t}(r.a.Component),rt=Object(S.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(nt),lt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.signOut=function(){},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(ae.a,{position:"absolute",className:Z()(e.appBar,this.state.open&&e.appBarShift)},r.a.createElement(re.a,{disableGutters:!this.state.open,className:e.toolbar},r.a.createElement(L.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:Z()(e.menuButton,this.state.open&&e.menuButtonHidden)},r.a.createElement(pe.a,null)),r.a.createElement(M.a,{component:"h1",variant:"title",color:"inherit",noWrap:!0,className:e.title},"Lets Do It!"),r.a.createElement(L.a,{color:"inherit",onClick:this.signOut},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(fe.a,{color:"white"}))))),r.a.createElement(ee.a,{variant:"permanent",classes:{paper:Z()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(L.a,{onClick:this.handleDrawerClose},r.a.createElement(ge.a,null))),r.a.createElement(oe.a,null),r.a.createElement(se.a,null,Ie),r.a.createElement(oe.a,null),r.a.createElement(se.a,null,Ue)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(rt,null)))))}}]),t}(r.a.Component),st=Object(S.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(X.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:220,width:"calc(100% - ".concat(220,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:220,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(K.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320}}})(lt),it=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(g.a,{path:"/",exact:!0,component:J}),r.a.createElement(g.a,{path:"/dashboard",component:st}),r.a.createElement(g.a,{render:function(){return r.a.createElement("h3",null,"No Match")}})))}}]),t}(n.Component),ot=Object(S.createMuiTheme)({palette:{primary:{main:"#000080"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}});s.a.render(r.a.createElement(S.MuiThemeProvider,{theme:ot},r.a.createElement(it,null)),document.getElementById("root"))}},[[138,2,1]]]);
//# sourceMappingURL=main.f3c59d68.chunk.js.map